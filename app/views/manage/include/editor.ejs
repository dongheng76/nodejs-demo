<script type="text/javascript">
	
	//实例化编辑器
    //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
    var ue<%=input%> = UE.getEditor('<%=input%>',{
    	input:'<%=input%>'
    });
    
    function <%=input%>SelectAction(files){
		var url="";
		for(var i=0; i<files.length; i++){
			url += files[i].path + files[i].name + '.' + files[i].suffix;
			if (i<files.length-1) url+="|";
		}
		$("#<%=input%>").val($("#<%=input%>").val()+($("#<%=input%>").val(url)==""?url:"|"+url));
		$("#<%=input%>").val(url);
		<%=input%>Preview();
	}
    
    function <%=input%>Preview(){
		var li, urls = $("#<%=input%>").val().split("|");
		$("#<%=input%>Preview").children().remove();
		UE.getEditor('<%=input%>').focus();
		for (var i=0; i<urls.length; i++){
			UE.getEditor('<%=input%>').focus();  
			UE.getEditor('<%=input%>').execCommand('inserthtml','<img src="'+urls[i]+'"/>'); 
		}
		if ($("#<%=input%>Preview").text() == ""){
			$("#<%=input%>Preview").html("<li style='list-style:none;padding-top:5px;'>无</li>");
		}
	}
</script>

