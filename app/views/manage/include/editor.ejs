<script type="text/javascript">
	
	//实例化编辑器
    //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
    var ue<%=input%> = UE.getEditor('<%=input%>',{
    	input:'<%=input%>'
    });
    
    function <%=input%>SelectAction(files){
		var ids="";
		for(var i=0; i<files.length; i++){
			ids += files[i].id;
			if (i<files.length-1) ids+="|";
		}
		$("#<%=input%>").val(ids);
		<%=input%>Preview();
	}
    
    function <%=input%>Preview(){
		var li, ids = $("#<%=input%>").val().split("|");
		$("#<%=input%>Preview").children().remove();
		UE.getEditor('<%=input%>').focus();
		for (var i=0; i<ids.length; i++){
			UE.getEditor('<%=input%>').focus();  
			UE.getEditor('<%=input%>').execCommand('inserthtml','<img src="/getfile?id='+ids[i]+'"/>'); 
		}
		if ($("#<%=input%>Preview").text() == ""){
			$("#<%=input%>Preview").html("<li style='list-style:none;padding-top:5px;'>无</li>");
		}
	}
</script>

